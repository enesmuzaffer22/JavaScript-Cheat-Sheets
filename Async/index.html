<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <p id="p1"></p>
    <p id="p2"></p>
    <p id="p3"></p>

    <script>
        /*
        Async functions wait for a condition to happen and execute the code block inside after the condition is met. 
        These code blocks that will work may vary according to the structure of the code. Just like the try catch structure.
        
        Let's examine a simple async function structure:
        */

        setTimeout(newFunction, 3000);

        function newFunction() {
            document.getElementById("p1").innerHTML = "Hello world !";
        }

        /*
        Let's examine another example:
        */

        function myFunction(e) {
            document.getElementById("p2").innerHTML = "Example 2";
        }

        let myPromise = new Promise(function (myResolve, myReject) {
            let x = 0;

            if (x == 0) {
                myResolve("OK");
            } else {
                myReject("Error");
            }
        });

        myPromise.then(
            function (value) { myFunction(value); },
            function (error) { myFunction(error); }
        );

        /*
        You should notice something in this example. First, "Example 2" is printed on the screen. After 3 seconds, "Hello world !".
        
        And we can examine one more example:
        */

        async function myDisplay() {
            let myPromise = new Promise(function (resolve) {
                resolve("Example 3");
            });
            document.getElementById("p3").innerHTML = await myPromise;
        }

        myDisplay();

        /*
        The await keyword can only be used inside an async function.
        The await keyword makes the function pause the execution and wait for a resolved promise before it continues:

        let value = await promise;

        quotation: https://www.w3schools.com/js/js_async.asp
        */
    </script>
</body>

</html>